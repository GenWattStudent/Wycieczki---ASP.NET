@using Book.App.Models
@model TourModel

@{
    ViewData["Title"] = "Add Tour";
}

<div>
    @using (Html.BeginForm("AddTour", "Tour", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        <partial name="_TourFormPartial" model="Model" />
        <div id="preview" class="d-flex mt-2"></div>

        @Html.Hidden("images", "", new { id = "images" })

        <strong class="mt-2 d-block">Click on the map to add waypoints</strong>

        <div id="waypoint-form" class="mt-2"></div>

        <div class="position-relative mt-2 ">
            <div id="toolbar">
                <button data-toggle="tooltip" data-placement="top" title="Waypoint" type="button" data-tool="marker"
                    class="btn btn-primary">
                    <ion-icon name="location"></ion-icon>
                </button>
                <button data-toggle="tooltip" data-placement="top" title="Road" type="button" data-tool="road"
                    class="btn btn-primary">
                    <ion-icon name="ellipsis-vertical"></ion-icon>
                </button>
            </div>
            <div id="map" class="rounded mt-2"></div>
        </div>

        <div class="d-flex flex-column">
            <input class="btn btn-primary mt-3" type="submit" value="Submit">
        </div>
    }
</div>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" />

<script src="~/js/dateGreaterThan.js"></script>
<script src="~/js/imagePreview.js"></script>
<script src="~/js/adminMap.js" type="module"></script>
<script src="~/js/addTour.js" type="module"></script>
